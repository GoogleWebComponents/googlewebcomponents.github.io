<!--
    @license
    Copyright (c) 2014 The Polymer Project Authors. All rights reserved.
    This code may only be used under the BSD style license found at http://polymer.github.io/LICENSE.txt
    The complete set of authors may be found at http://polymer.github.io/AUTHORS.txt
    The complete set of contributors may be found at http://polymer.github.io/CONTRIBUTORS.txt
    Code distributed by Google as part of the polymer project is also
    subject to an additional IP rights grant found at http://polymer.github.io/PATENTS.txt
-->
<!DOCTYPE html>
<script src="../../tools/chai/chai.js"></script>
<script src="../../tools/htmltest.js"></script>

<script src="../../../src/ShadowDOM/ShadowDOM.js"></script>
<a></a><script>
var assert = chai.assert;
var wrap = ShadowDOMPolyfill.wrap;

var a = document.querySelector('a');
document.write('<script><' + '/script>');
wrap(document).write('<b></b>');
assert.equal(a.nextSibling.localName, 'script');
assert.equal(a.nextSibling.nextSibling.localName, 'script');
assert.equal(a.nextSibling.nextSibling.nextSibling.localName, 'b');

var all = document.querySelectorAll('*');
var last = all[all.length - 1];
assert.equal(last.localName, 'b');

done();
</script>
